<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Choose your campaign-week</title>

  <link rel="stylesheet" href="CSS/general.css">
  <link rel="stylesheet" href="CSS/selectDate.css">
  <link href="https://fonts.googleapis.com/css2?family=Days+One&display=swap" rel="stylesheet">

  <style>
    body.fade-out {
      opacity: 0;
      transition: opacity 0.5s ease;
    }
  </style>
</head>

<body>

  <div class="progress-bar" data-step="1">
    <div id="step1" class="progress-step">1</div>
    <div class="progress-line"></div>
    <div id="step2" class="progress-step">2</div>
    <div class="progress-line"></div>
    <div id="step3" class="progress-step">3</div>
    <div class="progress-line"></div>
    <div id="step4" class="progress-step">4</div>
    <div class="progress-line"></div>
    <div id="step5" class="progress-step">5</div>
    <div class="progress-line"></div>
    <div id="step6" class="progress-step">6</div>
  </div>

  <h1>Choose your campaign-week</h1>
  <p>Every campaign has a fixed date of 1 week, from Wednesday to Tuesday.</p>

  <div class="calendar">
    <div class="calendar-header">
      <button id="prev-month" style="background: none; border: none; font-size: 1.5rem; cursor: pointer;">←</button>
      <span id="calendar-month">May 2025</span>
      <button id="next-month" style="background: none; border: none; font-size: 1.5rem; cursor: pointer;">→</button>
    </div>
    

    <div class="calendar-grid">
      <div class="weekday">Mo</div>
      <div class="weekday">Tu</div>
      <div class="weekday">We</div>
      <div class="weekday">Th</div>
      <div class="weekday">Fr</div>
      <div class="weekday">Sa</div>
      <div class="weekday">Su</div>

      <div class="day disabled">28</div>
      <div class="day disabled">29</div>
      <div class="day disabled">30</div>
      <div class="day">1</div>
      <div class="day">2</div>
      <div class="day">3</div>
      <div class="day">4</div>

      <div class="day">5</div>
      <div class="day">6</div>
      <div class="day">7</div>
      <div class="day">8</div>
      <div class="day">9</div>
      <div class="day">10</div>
      <div class="day">11</div>

      <div class="day">12</div>
      <div class="day">13</div>
      <div class="day">14</div>
      <div class="day">15</div>
      <div class="day">16</div>
      <div class="day">17</div>
      <div class="day">18</div>

      <div class="day">19</div>
      <div class="day">20</div>
      <div class="day">21</div>
      <div class="day">22</div>
      <div class="day">23</div>
      <div class="day">24</div>
      <div class="day">25</div>

      <div class="day">26</div>
      <div class="day">27</div>
      <div class="day">28</div>
      <div class="day">29</div>
      <div class="day">30</div>
      <div class="day">31</div>
      <div class="day disabled">1</div>
    </div>
  </div>

  <div class="button-container">
    <a href="./Welcome.html" class="btn-back" id="btnBack">Back</a>
    <a href="./Location.html" class="btn-next" id="btnNext">Next</a>
  </div>

  <script>
   document.addEventListener("DOMContentLoaded", () => {
  const calendarGrid = document.querySelector(".calendar-grid");
  const calendarMonth = document.getElementById("calendar-month");
  const nextMonthBtn = document.getElementById("next-month");
  const prevMonthBtn = document.getElementById("prev-month");


  // Data voor de maanden
  const months = {
    may: {
      name: "May 2025",
      days: [
        "Mo", "Tu", "We", "Th", "Fr", "Sa", "Su",
        "28", "29", "30", "1", "2", "3", "4",
        "5", "6", "7", "8", "9", "10", "11",
        "12", "13", "14", "15", "16", "17", "18",
        "19", "20", "21", "22", "23", "24", "25",
        "26", "27", "28", "29", "30", "31", "1"
      ],
      disabled: [0, 1, 2, 41] // indices van disabled dagen
    },
    june: {
      name: "June 2025",
      days: [
        "Mo", "Tu", "We", "Th", "Fr", "Sa", "Su",
        "2", "3", "4", "5", "6", "7", "8",
        "9", "10", "11", "12", "13", "14", "15",
        "16", "17", "18", "19", "20", "21", "22",
        "23", "24", "25", "26", "27", "28", "29",
        "30", "", "", "", "", "", ""
      ],
      disabled: [35, 36, 37, 38, 39, 40, 41]
    }
  };

  let currentMonth = "may";

  function renderCalendar(monthKey) {
    currentMonth = monthKey;
    const { name, days, disabled } = months[monthKey];

    calendarMonth.textContent = name;

    // Verwijder bestaande dag-elementen behalve weekdays
    const allDays = calendarGrid.querySelectorAll(".day, .weekday");
    allDays.forEach(day => {
      if (!day.classList.contains("weekday")) {
        calendarGrid.removeChild(day);
      }
    });

    // Voeg nieuwe dagen toe
    days.forEach((day, i) => {
      if (i < 7) return; // skip weekdays
      const div = document.createElement("div");
      div.classList.add("day");
      if (disabled.includes(i)) {
        div.classList.add("disabled");
      }
      div.textContent = day;
      calendarGrid.appendChild(div);
    });

    bindDayClicks(); // opnieuw klik-events toevoegen
  }

  function bindDayClicks() {
    const dayElements = calendarGrid.querySelectorAll(".day");

    dayElements.forEach(day => day.classList.remove("selected"));

    dayElements.forEach((day, index) => {
      day.addEventListener("click", () => {
        if (day.classList.contains("disabled")) return;

        const dayOfWeek = index % 7;
        const wednesdayIndex = index - (dayOfWeek - 2 < 0 ? dayOfWeek + 5 : dayOfWeek - 2);

        dayElements.forEach(d => d.classList.remove("selected"));

        for (let i = 0; i < 7; i++) {
          const selectIndex = wednesdayIndex + i;
          const selectDay = dayElements[selectIndex];
          if (selectDay && !selectDay.classList.contains("disabled")) {
            selectDay.classList.add("selected");
          }
        }
      });
    });
  }

  // Initieel: render mei
  renderCalendar("may");

  // Volgende maand
  nextMonthBtn.addEventListener("click", () => {
    if (currentMonth === "may") {
      renderCalendar("june");
    }
  });
  
  // Vorige maand
  prevMonthBtn.addEventListener("click", () => {
  if (currentMonth === "june") {
    renderCalendar("may");
  }
});


  // Fade buttons
  document.getElementById('btnNext').addEventListener('click', function (e) {
    e.preventDefault();
    document.body.classList.add('fade-out');
    setTimeout(function () {
      window.location.href = './Location.html';
    }, 500);
  });

  document.getElementById('btnBack').addEventListener('click', function (e) {
    e.preventDefault();
    document.body.classList.add('fade-out');
    setTimeout(function () {
      window.location.href = './Welcome.html';
    }, 500);
  });
});

  </script>

  <script src="Scripts/progressbar.js"></script>
</body>

</html>
